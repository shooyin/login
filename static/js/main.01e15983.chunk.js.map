{"version":3,"sources":["components/create/create.jsx","components/login/login.jsx","App.js","index.js"],"names":["CreateAccount","props","onChangeEmail","bind","onChangePassword","onChangeFirstName","onChangeLastName","onChangeType","onSubmit","state","email","password","firstname","lastname","type","types","axios","get","then","response","data","length","setState","map","user","e","this","target","value","preventDefault","console","log","post","res","window","location","className","style","width","required","placeholder","onChange","disabled","hidden","key","href","Component","Joi","require","LoginAccount","searchDatabase","account","found","users","search","id","renderError","invalidCredentials","catch","error","validateAccount","temporarilyShowError","setTimeout","object","string","minDomainSegments","tlds","allow","pattern","RegExp","App","onLoginGranted","height","path","exact","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.01e15983.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nclass CreateAccount extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChangeEmail = this.onChangeEmail.bind(this);\r\n    this.onChangePassword = this.onChangePassword.bind(this);\r\n    this.onChangeFirstName = this.onChangeFirstName.bind(this);\r\n    this.onChangeLastName = this.onChangeLastName.bind(this);\r\n    this.onChangeType = this.onChangeType.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      firstname: \"\",\r\n      lastname: \"\",\r\n      type: \"\",\r\n      types: []\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios.get(\"http://localhost:5000/types/\").then(response => {\r\n      if (response.data.length > 0) {\r\n        this.setState({\r\n          types: response.data.map(user => user.type)\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  onChangeEmail(e) {\r\n    this.setState({\r\n      email: e.target.value\r\n    });\r\n  }\r\n\r\n  onChangePassword(e) {\r\n    this.setState({\r\n      password: e.target.value\r\n    });\r\n  }\r\n\r\n  onChangeFirstName(e) {\r\n    this.setState({\r\n      firstname: e.target.value\r\n    });\r\n  }\r\n\r\n  onChangeLastName(e) {\r\n    this.setState({\r\n      lastname: e.target.value\r\n    });\r\n  }\r\n\r\n  onChangeType(e) {\r\n    this.setState({\r\n      type: e.target.value\r\n    });\r\n  }\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    const user = {\r\n      email: this.state.email,\r\n      password: this.state.password,\r\n      firstname: this.state.firstname,\r\n      lastname: this.state.lastname,\r\n      type: this.state.type\r\n    };\r\n\r\n    console.log(\"user\", user);\r\n\r\n    axios\r\n      .post(\"http://localhost:5000/users/add\", user)\r\n      .then(res => console.log(res.data));\r\n\r\n    this.setState({\r\n      email: \"\",\r\n      password: \"\",\r\n      firstname: \"\",\r\n      lastname: \"\",\r\n      type: \"\"\r\n    });\r\n\r\n    window.location = \"/login\";\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className=\"bg-light rounded m-auto p-5 text-center\"\r\n        style={{ width: \"max-content\" }}\r\n      >\r\n        <p className=\"display-4 pb-4\">Create Account</p>\r\n        <form onSubmit={this.onSubmit}>\r\n          <div className=\"form-group m-2\">\r\n            <input\r\n              type=\"email\"\r\n              required\r\n              className=\"form-control\"\r\n              placeholder=\"email\"\r\n              value={this.state.email}\r\n              onChange={this.onChangeEmail}\r\n            />\r\n          </div>\r\n          <div className=\"form-group m-2\">\r\n            <input\r\n              type=\"password\"\r\n              required\r\n              className=\"form-control\"\r\n              placeholder=\"password\"\r\n              value={this.state.password}\r\n              onChange={this.onChangePassword}\r\n            />\r\n          </div>\r\n          <div className=\"form-group m-2\">\r\n            <input\r\n              type=\"text\"\r\n              required\r\n              className=\"form-control\"\r\n              placeholder=\"First Name\"\r\n              value={this.state.firstname}\r\n              onChange={this.onChangeFirstName}\r\n            />\r\n          </div>\r\n          <div className=\"form-group m-2\">\r\n            <input\r\n              type=\"text\"\r\n              required\r\n              className=\"form-control\"\r\n              placeholder=\"Last Name\"\r\n              value={this.state.lastname}\r\n              onChange={this.onChangeLastName}\r\n            />\r\n          </div>\r\n          <div className=\"form-group m-2\">\r\n            <select\r\n              required\r\n              className=\"form-control\"\r\n              value={this.state.type}\r\n              onChange={this.onChangeType}\r\n            >\r\n              <option value=\"\" disabled hidden>\r\n                Type of User\r\n              </option>\r\n              {this.state.types.map(function(type) {\r\n                return (\r\n                  <option key={type} value={type}>\r\n                    {type}\r\n                  </option>\r\n                );\r\n              })}\r\n            </select>\r\n          </div>\r\n          <div className=\"form-group mt-5\">\r\n            <input\r\n              type=\"submit\"\r\n              value=\"Create Account\"\r\n              className=\"btn btn-primary\"\r\n            />\r\n          </div>\r\n          <sub>\r\n            <a href=\"/login\">Already have an account?</a>\r\n          </sub>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CreateAccount;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./login.css\";\r\n\r\nconst Joi = require(\"@hapi/joi\");\r\n\r\nclass LoginAccount extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChangeEmail = this.onChangeEmail.bind(this);\r\n    this.onChangePassword = this.onChangePassword.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.searchDatabase = this.searchDatabase.bind(this);\r\n\r\n    this.state = {\r\n      id: null,\r\n      email: \"\",\r\n      password: \"\",\r\n      invalidCredentials: false,\r\n      users: []\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios\r\n      .get(\"http://localhost:5000/users/\")\r\n      .then(response => {\r\n        if (response.data.length > 0) {\r\n          this.setState({\r\n            users: response.data\r\n          });\r\n        }\r\n      })\r\n      .then(() => {\r\n        console.log(\"Users successfully mounted\");\r\n      })\r\n      .catch(function(error) {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  onChangeEmail(e) {\r\n    this.setState({\r\n      email: e.target.value\r\n    });\r\n  }\r\n\r\n  onChangePassword(e) {\r\n    this.setState({\r\n      password: e.target.value\r\n    });\r\n  }\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    const user = {\r\n      email: this.state.email,\r\n      password: this.state.password\r\n    };\r\n\r\n    let valid = this.validateAccount(user);\r\n    let found = this.searchDatabase(user);\r\n\r\n    if (!valid) {\r\n      // render invalid credentials?\r\n    }\r\n    if (found) {\r\n      /* PASS USER TO SOMEWHERE ELSE HERE */\r\n      console.log(\"Valid account found!\");\r\n      user.id = this.state.id;\r\n      window.location = \"/\";\r\n    } else {\r\n      console.log(\"Invalid Account found\");\r\n      this.temporarilyShowError();\r\n    }\r\n  }\r\n\r\n  searchDatabase = account => {\r\n    let found = false;\r\n\r\n    this.state.users.map(search => {\r\n      if (\r\n        search.email === account.email &&\r\n        search.password === account.password\r\n      ) {\r\n        this.setState({\r\n          id: search.id\r\n        });\r\n        found = true;\r\n      }\r\n    });\r\n\r\n    return found;\r\n  };\r\n\r\n  temporarilyShowError() {\r\n    const duration = 5000;\r\n\r\n    if (this.state.invalidCredentials === false) {\r\n      this.setState({\r\n        invalidCredentials: true\r\n      });\r\n\r\n      setTimeout(() => {\r\n        this.setState({\r\n          invalidCredentials: false\r\n        });\r\n      }, duration);\r\n    }\r\n  }\r\n\r\n  validateAccount(account) {\r\n    const schema = Joi.object({\r\n      email: Joi.string()\r\n        .email({\r\n          minDomainSegments: 2,\r\n          tlds: { allow: [\"com\", \"net\", \"edu\", \"tv\"] }\r\n        })\r\n        .required(),\r\n      password: Joi.string()\r\n        .pattern(new RegExp(\"^[a-zA-Z0-9]{3,30}\"))\r\n        .required()\r\n    });\r\n  }\r\n\r\n  /*\r\n  TODO: FIX Rendered Text changing container height\r\n  */\r\n  renderError = () => {\r\n    if (this.state.invalidCredentials) {\r\n      return (\r\n        <sub className=\"text-danger text-nowrap\">Invalid Credentials!</sub>\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className=\"container bg-light rounded m-auto p-5 text-center z-index-2\"\r\n        style={{ width: \"max-content\" }}\r\n      >\r\n        <p className=\"display-4\">iAssist</p>\r\n        {this.renderError()}\r\n        <form className=\"mt-4\" onSubmit={this.onSubmit}>\r\n          <div className=\"form-group m-2\">\r\n            <input\r\n              type=\"email\"\r\n              required\r\n              className=\"form-control\"\r\n              placeholder=\"email\"\r\n              value={this.state.email}\r\n              onChange={this.onChangeEmail}\r\n            />\r\n          </div>\r\n          <div className=\"form-group m-2\">\r\n            <input\r\n              type=\"password\"\r\n              required\r\n              className=\"form-control\"\r\n              placeholder=\"password\"\r\n              value={this.state.password}\r\n              onChange={this.onChangePassword}\r\n            />\r\n          </div>\r\n          <div className=\"form-group mt-4\">\r\n            <input type=\"submit\" value=\"Login\" className=\"btn btn-primary\" />\r\n          </div>\r\n          <sub>\r\n            <a href=\"/create\">Create an account!</a>\r\n          </sub>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoginAccount;\r\n","import React, { Component } from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"font-awesome/css/font-awesome.min.css\";\nimport \"./App.css\";\n\nimport CreateAccount from \"./components/create/create\";\nimport LoginAccount from \"./components/login/login\";\n\nclass App extends Component {\n  state = {\n    id: \"\",\n    email: \"\",\n    password: \"\"\n  };\n\n  onLoginGranted = account => {\n    let { id, email, password } = account;\n\n    this.setState({\n      id,\n      email,\n      password\n    });\n  };\n\n  render() {\n    return (\n      <Router>\n        <div className=\"d-flex\" style={{ height: \"100vh\", width: \"100vw\" }}>\n          <Route path=\"/\" exact component={LoginAccount} />\n          <Route path=\"/create\" exact component={CreateAccount} />\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}