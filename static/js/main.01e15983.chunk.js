(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{100:function(e,t,a){},159:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(72),o=a.n(r),i=a(21),l=a(22),c=a(24),m=a(23),u=a(25),d=a(73),h=a(16),p=(a(81),a(82),a(83),a(6)),g=a(29),f=a.n(g),v=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onChangeEmail=a.onChangeEmail.bind(Object(p.a)(a)),a.onChangePassword=a.onChangePassword.bind(Object(p.a)(a)),a.onChangeFirstName=a.onChangeFirstName.bind(Object(p.a)(a)),a.onChangeLastName=a.onChangeLastName.bind(Object(p.a)(a)),a.onChangeType=a.onChangeType.bind(Object(p.a)(a)),a.onSubmit=a.onSubmit.bind(Object(p.a)(a)),a.state={email:"",password:"",firstname:"",lastname:"",type:"",types:[]},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.get("http://localhost:5000/types/").then((function(t){t.data.length>0&&e.setState({types:t.data.map((function(e){return e.type}))})}))}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"onChangeFirstName",value:function(e){this.setState({firstname:e.target.value})}},{key:"onChangeLastName",value:function(e){this.setState({lastname:e.target.value})}},{key:"onChangeType",value:function(e){this.setState({type:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={email:this.state.email,password:this.state.password,firstname:this.state.firstname,lastname:this.state.lastname,type:this.state.type};console.log("user",t),f.a.post("http://localhost:5000/users/add",t).then((function(e){return console.log(e.data)})),this.setState({email:"",password:"",firstname:"",lastname:"",type:""}),window.location="/login"}},{key:"render",value:function(){return s.a.createElement("div",{className:"bg-light rounded m-auto p-5 text-center",style:{width:"max-content"}},s.a.createElement("p",{className:"display-4 pb-4"},"Create Account"),s.a.createElement("form",{onSubmit:this.onSubmit},s.a.createElement("div",{className:"form-group m-2"},s.a.createElement("input",{type:"email",required:!0,className:"form-control",placeholder:"email",value:this.state.email,onChange:this.onChangeEmail})),s.a.createElement("div",{className:"form-group m-2"},s.a.createElement("input",{type:"password",required:!0,className:"form-control",placeholder:"password",value:this.state.password,onChange:this.onChangePassword})),s.a.createElement("div",{className:"form-group m-2"},s.a.createElement("input",{type:"text",required:!0,className:"form-control",placeholder:"First Name",value:this.state.firstname,onChange:this.onChangeFirstName})),s.a.createElement("div",{className:"form-group m-2"},s.a.createElement("input",{type:"text",required:!0,className:"form-control",placeholder:"Last Name",value:this.state.lastname,onChange:this.onChangeLastName})),s.a.createElement("div",{className:"form-group m-2"},s.a.createElement("select",{required:!0,className:"form-control",value:this.state.type,onChange:this.onChangeType},s.a.createElement("option",{value:"",disabled:!0,hidden:!0},"Type of User"),this.state.types.map((function(e){return s.a.createElement("option",{key:e,value:e},e)})))),s.a.createElement("div",{className:"form-group mt-5"},s.a.createElement("input",{type:"submit",value:"Create Account",className:"btn btn-primary"})),s.a.createElement("sub",null,s.a.createElement("a",{href:"/login"},"Already have an account?"))))}}]),t}(n.Component),b=(a(100),a(51)),y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).searchDatabase=function(e){var t=!1;return a.state.users.map((function(n){n.email===e.email&&n.password===e.password&&(a.setState({id:n.id}),t=!0)})),t},a.renderError=function(){if(a.state.invalidCredentials)return s.a.createElement("sub",{className:"text-danger text-nowrap"},"Invalid Credentials!")},a.onChangeEmail=a.onChangeEmail.bind(Object(p.a)(a)),a.onChangePassword=a.onChangePassword.bind(Object(p.a)(a)),a.onSubmit=a.onSubmit.bind(Object(p.a)(a)),a.searchDatabase=a.searchDatabase.bind(Object(p.a)(a)),a.state={id:null,email:"",password:"",invalidCredentials:!1,users:[]},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.get("http://localhost:5000/users/").then((function(t){t.data.length>0&&e.setState({users:t.data})})).then((function(){console.log("Users successfully mounted")})).catch((function(e){console.log(e)}))}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={email:this.state.email,password:this.state.password};this.validateAccount(t);this.searchDatabase(t)?(console.log("Valid account found!"),t.id=this.state.id,window.location="/"):(console.log("Invalid Account found"),this.temporarilyShowError())}},{key:"temporarilyShowError",value:function(){var e=this;!1===this.state.invalidCredentials&&(this.setState({invalidCredentials:!0}),setTimeout((function(){e.setState({invalidCredentials:!1})}),5e3))}},{key:"validateAccount",value:function(e){b.object({email:b.string().email({minDomainSegments:2,tlds:{allow:["com","net","edu","tv"]}}).required(),password:b.string().pattern(new RegExp("^[a-zA-Z0-9]{3,30}")).required()})}},{key:"render",value:function(){return s.a.createElement("div",{className:"container bg-light rounded m-auto p-5 text-center z-index-2",style:{width:"max-content"}},s.a.createElement("p",{className:"display-4"},"iAssist"),this.renderError(),s.a.createElement("form",{className:"mt-4",onSubmit:this.onSubmit},s.a.createElement("div",{className:"form-group m-2"},s.a.createElement("input",{type:"email",required:!0,className:"form-control",placeholder:"email",value:this.state.email,onChange:this.onChangeEmail})),s.a.createElement("div",{className:"form-group m-2"},s.a.createElement("input",{type:"password",required:!0,className:"form-control",placeholder:"password",value:this.state.password,onChange:this.onChangePassword})),s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("input",{type:"submit",value:"Login",className:"btn btn-primary"})),s.a.createElement("sub",null,s.a.createElement("a",{href:"/create"},"Create an account!"))))}}]),t}(n.Component),E=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={id:"",email:"",password:""},a.onLoginGranted=function(e){var t=e.id,n=e.email,s=e.password;a.setState({id:t,email:n,password:s})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement(d.a,null,s.a.createElement("div",{className:"d-flex",style:{height:"100vh",width:"100vw"}},s.a.createElement(h.a,{path:"/",exact:!0,component:y}),s.a.createElement(h.a,{path:"/create",exact:!0,component:v})))}}]),t}(n.Component);o.a.render(s.a.createElement(E,null),document.getElementById("root"))},76:function(e,t,a){e.exports=a(159)},83:function(e,t,a){}},[[76,1,2]]]);
//# sourceMappingURL=main.01e15983.chunk.js.map